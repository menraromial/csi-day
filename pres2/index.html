<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VoltK8sScheduler: A Kubernetes scheduler for energy-constrained computing environments</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/moon.min.css" id="theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="reveal">
        <div class="slides">

            <!-- SLIDE 1: Titre -->
            <section data-transition="zoom">
                <h1 class="title-main">VoltK8sScheduler</h1>
                <p class="subtitle-main">Un ordonnanceur Kubernetes pour environnements contraints en √©nergie</p>
                <div class="logo-placeholder">
                    <!-- Mettez un logo d'universit√©/labo ici si vous voulez -->
                    <i class="fas fa-bolt fa-3x"></i> <i class="fab fa-kubernetes fa-3x"></i>
                </div>
            </section>

            <!-- SLIDE 2: Auteurs -->
            <section>
                <h2>Auteurs</h2>
                <div class="authors-list">
                    <p>Menra Wedwang Romial <small>(Inria Rennes, Nantes)</small></p>
                    <p>Jean-Marc Menaud <small>(IMT Atlantique, Nantes)</small></p>
                    <p>Remous-Aris Koutsiamanis <small>(IMT Atlantique, Nantes)</small></p>
                    <p>Guillaume Rosinosky <small>(IMT Atlantique, Nantes)</small></p>
                </div>
            </section>

            <!-- SLIDE 3: Abstract / 
            <section>
                <h2>Le D√©fi √ânerg√©tique</h2>
                <p>Expansion du num√©rique = forte conso d'√©nergie des data centers.</p>
                <p class="fragment">Solution : Maintenir conso serveur dans une enveloppe, align√©e sur dispo. √©nerg√©tique.</p>
                <div class="icon-row fragment">
                     <i class="fas fa-server"></i> <i class="fas fa-arrow-right"></i> <i class="fas fa-leaf"></i>
                </div>
            </section>

            <section>
                <h2>Notre Approche</h2>
                <p>1. Limitation dynamique puissance serveurs (selon dispo. √©nergie).</p>
                <p class="fragment">2. M√©canisme d'ordonnancement K8s int√©grant explicitement l'√©nergie.</p>
                <p class="fragment"><strong>VoltK8sScheduler:</strong> priorise n≈ìuds avec plus grande capacit√© restante.</p>
                 <div class="icon-row fragment">
                    <i class="fas fa-tachometer-alt"></i> <i class="fas fa-plus"></i> <i class="fab fa-kubernetes"></i><span>ü§ñ</span>
                </div>
            </section> Notre Contribution -->

            <!-- === INTRODUCTION / CONTEXTE (7 slides) === -->
            <!-- R√©utiliser les slides d'intro de la r√©ponse pr√©c√©dente, ajust√©es si besoin -->
            <section data-transition="zoom">
                <h2>Data Centers: Croissance Explosive</h2>
                <div class="intro-icons">
                    <i class="fas fa-server fa-3x grow-icon"></i> <i class="fas fa-bolt fa-3x energy-icon"></i> <i class="fas fa-globe fa-3x impact-icon"></i>
                </div>
                <p>Hausse des data centers. Consommation √©lectrique et impact environnemental en forte croissance.</p>
            </section>
            <section data-transition="slide-in right">
                <h2>Consommation: Chiffres Cl√©s</h2>
                <div class="intro-icons">
                    <span class="big-text">460 TWh <small>(2022)</small></span> <i class="fas fa-arrow-right fa-2x"></i> <span class="big-text">>1000 TWh <small>(2026)</small></span> <i class="fas fa-brain fa-3x ai-icon"></i>
                </div>
                <p>IA propulse la demande. Calcul = 40% conso. Fournisseurs cloud veulent r√©duire co√ªts & empreinte.</p>
            </section>
            <section data-transition="slide-in right">
                <h2>D√©fi: √ânergies Renouvelables</h2>
                 <div class="intro-icons">
                    <i class="fas fa-smog fa-3x pollution-icon"></i> <i class="fas fa-arrow-right fa-2x"></i> <i class="fas fa-wind fa-3x"></i> <i class="fas fa-sun fa-3x"></i>
                </div>
                <p>Objectif neutralit√© carbone. Solaire/√©olien dominants, mais intermittents. (Concept Fig.1)</p>
                 <img data-src="images/solar_curve.jpg" alt="Concept Figure 1: Intermittence Solaire" class="figure-medium figure-large fragment">
            </section>
            <section data-transition="slide-in right">
                <h2>Intermittence Solaire & Co√ªts</h2>
                <div class="intro-icons">
                    <div class="sun-location"><i class="fas fa-sun fa-2x dimmed"></i> L1</div> <div class="sun-location"><i class="fas fa-sun fa-2x"></i> L2</div> <div class="sun-location"><i class="fas fa-sun fa-2x very-dimmed"></i> L3</div> <i class="fas fa-clock fa-2x"></i> <i class="fas fa-euro-sign fa-2x price-icon"></i>
                </div>
                <p>Solaire variable. Heures creuses/pleines influencent co√ªts. Parfois prix n√©gatifs.</p>
            </section>
            <section data-transition="slide-in right">
                <h2>Notre Solution: Double Approche</h2>
                <div class="intro-icons">
                    <span class="solution-step">1</span> <i class="fas fa-sliders-h fa-3x"></i> <span class="solution-step">2</span> <i class="fab fa-docker fa-3x"></i> <i class="fas fa-cogs fa-3x k8s-logo-like"></i>
                </div>
                <p>1: Limitation dynamique puissance. 2: Conteneurs + Ordonnancement K8s √©co-conscient.</p>
            </section>
            <section data-transition="slide-in right">
                <h2>K8s & √ânergie: Le Manque</h2>
                 <div class="intro-icons">
                    <i class="fas fa-microchip fa-2x"></i> <i class="fas fa-memory fa-2x"></i> <i class="fas fa-question-circle fa-2x energy-question"></i> <i class="fas fa-plug fa-2x"></i>
                </div>
                <p>Scheduler K8s: optimise CPU/RAM. Ignore l'√©nergie. N√©cessaire en environnement contraint.</p>
            </section>
            <section data-transition="fade-in-then-zoom-out">
                <h2>Notre Innovation: VoltK8sScheduler</h2>
                <div class="intro-icons">
                    <div class="scheduler-obj intro-scheduler">ü§ñ<br>VoltK8s</div>
                </div>
                <p>Nous proposons <strong>VoltK8sScheduler</strong>: int√®gre l'√©nergie dans le placement des conteneurs.</p>
            </section>

            <!-- SLIDE: Plan -->
            <section>
                <h2>Plan de la Pr√©sentation</h2>
                <ol class="roadmap-list">
                    <li><i class="fas fa-book"></i> Introduction & Contexte</li>
                    <li class="fragment"><i class="fas fa-glasses"></i> √âtat de l'Art</li>
                    <li class="fragment highlight-roadmap"><i class="fas fa-lightbulb"></i> Approche Propos√©e: VoltK8sScheduler</li>
                    <li class="fragment"><i class="fas fa-vial"></i> Analyse Exp√©rimentale</li>
                    <li class="fragment"><i class="fas fa-flag-checkered"></i> Conclusion & Travaux Futurs</li>
                </ol>
            </section>

            <!-- === √âTAT DE L'ART (Section 2) (5-7 slides) === -->
            <section data-auto-animate>
                <h2>√âtat de l'Art: Power Capping</h2>
                <p>Techniques pour limiter la consommation max des serveurs.</p>
                <p class="fragment">Objectifs: efficacit√©, √©viter urgences, r√©duire co√ªts OPEX.</p>
                <div class="icon-row fragment">
                    <i class="fas fa-bolt"></i> <i class="fas fa-cap-fe PPER"></i> <i class="fas fa-microchip"></i>
                </div>
            </section>
            <section data-auto-animate>
                <h2>√âtat de l'Art: Power Capping</h2>
                <p>M√©canismes: DVFS, RAPL (Intel), Intel Node Manager, Power Gating, Thread Packing...</p>
                <p class="fragment">Beaucoup ne sont pas adapt√©s √† notre cas :</p>
                <ul class="fragment">
                    <li>N'int√®grent pas la puissance de la <em>source</em>.</li>
                    <li>Non con√ßus pour Kubernetes.</li>
                </ul>
            </section>

            <section data-auto-animate>
                <h2>√âtat de l'Art: Schedulers K8s √âco-Conscients</h2>
                <p>Plusieurs travaux visent √† optimiser l'√©nergie dans K8s.</p>
                <div class="icon-row">
                    <i class="fab fa-kubernetes"></i> <i class="fas fa-leaf"></i> <i class="fas fa-brain"></i>
                </div>
            </section>
            <section data-auto-animate>
                 <h2>√âtat de l'Art: Schedulers K8s √âco-Conscients</h2>
                <p>Exemples : Kaur et al. (interf√©rences), Vishal et al. (edge), Philipp et al. (pr√©diction via GNN), Tayebeh et al. (Caspian, carbone), John & Javad (RLKube).</p>
                <p class="fragment">Ces solutions sont int√©ressantes, mais...</p>
            </section>
            <section data-auto-animate>
                <h2>√âtat de l'Art: Leurs Limites / Notre Niche</h2>
                <p>Souvent, l'√©nergie n'est pas le <em>crit√®re principal</em> de d√©cision.</p>
                <p class="fragment">Focus sur optimisation ressources ou allocation, pas directement sur contrainte √©nerg√©tique forte.</p>
                <p class="fragment">Notre besoin: Placer charges en fonction de l'√©nergie <strong>disponible et limit√©e</strong>.</p>
                <div class="icon-row fragment">
                    <i class="fas fa-battery-half"></i> <i class="fas fa-puzzle-piece"></i>
                </div>
            </section>

            <!-- === APPROCHE PROPOS√âE (Section 3) (25-30 slides) === -->
            <section>
                <h2>Approche Propos√©e: Architecture</h2>
                <p>Vue d'ensemble de notre solution VoltK8sScheduler.</p>
                <img data-src="images/figure2.png" alt="Figure 2: VoltK8sScheduler architecture" class="figure-large fragment">
                <p class="fragment"><small>(Default Scheduler, KCAS Scheduler, API Server, Metrics, Powercap...)</small></p>
            </section>
            <section>
                <h2>Composants Cl√©s</h2>
                <div class="component-box fragment" data-fragment-index="1">
                    <i class="fas fa-shield-alt fa-2x"></i>
                    <h4>Powercap Agent</h4>
                    <p>Limite la puissance des n≈ìuds (via RAPL).</p>
                </div>
                <div class="component-box fragment" data-fragment-index="2">
                    <i class="fas fa-chart-line fa-2x"></i>
                    <h4>Monitoring (Kepler)</h4>
                    <p>Collecte conso. √©nergie (n≈ìuds, pods).</p>
                </div>
                <div class="component-box fragment" data-fragment-index="3">
                    <div class="scheduler-obj small-scheduler">ü§ñ</div>
                    <h4>VoltK8sScheduler</h4>
                    <p>Plugin K8s, prend d√©cisions de placement.</p>
                </div>
            </section>

            <!-- Power Capping avec RAPL -->
            <section>
                <h2>Zoom: Power Capping avec RAPL</h2>
                <p>RAPL: Running Average Power Limit (Intel).</p>
                <p class="fragment">Mesure et limite conso. de domaines du processeur.</p>
                <img data-src="images/figure3.png" alt="Figure 3: Domaines de puissance RAPL" class="figure-medium fragment">
                <p class="fragment"><small>(PKG, PPO, PP1, DRAM, PSys)</small></p>
            </section>
            <section>
                <h2>RAPL: Fen√™tres Temporelles</h2>
                <p><strong>PL1 (Long-Term)</strong>: R√©gule conso. moyenne pour √©viter surchauffe (TDP).</p>
                <p class="fragment"><strong>PL2 (Short-Term)</strong>: Permet pics de conso. brefs pour charges intenses.</p>
                <p class="fragment"><strong>Peak Power</strong>: Limite absolue instantan√©e.</p>
                <div class="icon-row fragment">
                    <i class="fas fa-stopwatch"></i><i class="fas fa-fire"></i><i class="fas fa-bolt"></i>
                </div>
            </section>
            <section>
                <h2>Algorithme Power Capping (1/2)</h2>
                <pre><code class="language-plaintext" data-line-numbers="1-6" style="font-size: 0.7em;">
                Algorithm 1: Power Capping Algorithm
                Input: current_domain, Pmin, sleep_time, get_source_power
                1 Function Init(domains):
                2   Pmax_ref = 0; // R√©f√©rence TDP
                3   foreach domain_path in domains do
                4     domain_max_power = readMaxPower(domain_path);
                5     Pmax_ref = max(Pmax_ref, domain_max_power);
                6   return Pmax_ref; // Pmax de l'article
                </code></pre>
                <p class="fragment">Initialisation: trouve Pmax de r√©f√©rence (TDP).</p>
            </section>
            <section>
                <h2>Algorithme Power Capping (2/2)</h2>
                <pre><code class="language-plaintext" data-line-numbers="8-18" style="font-size: 0.7em;">
                // Pmax_ref est le Pmax de l'article (TDP)
                8 while True do
                9   Ps = get_source_power(); // Puissance source actuelle
                10  Power_to_apply = Pmin;
                11  if Ps > Pmax_ref then // Si source > TDP max du noeud
                12    Power_to_apply = Pmax_ref;
                13  else
                14    if Ps > Pmin then // Si source entre Pmin et Pmax_ref
                15      Power_to_apply = Ps;
                16  foreach domain_path in current_domain do // Applique aux domaines
                17    current_domain[domain_path] = Power_to_apply;
                18  sleep(sleep_time);
                </code></pre>
                <p class="fragment">Boucle: ajuste limite conso. n≈ìud selon puissance source (Ps) et Pmin/Pmax.</p>
            </section>

            <!-- Le Scheduler K8s -->
            <section>
                <h2>Zoom: Le Scheduler Kubernetes</h2>
                <p>Rappel: Architecture K8s (Ma√Ætre-N≈ìuds).</p>
                <img data-src="images/figure4.png" alt="Figure 4: Architecture Kubernetes" class="figure-medium fragment">
            </section>
            <section>
                <h2>Framework de Scheduling K8s</h2>
                <p>Expose points d'extension (phases) pour plugins.</p>
                <img data-src="images/figure5.png" alt="Figure 5: Framework de Scheduling" class="figure-large fragment">
                <p class="fragment">Nous utilisons: PreFilter, Filter, Score, NormalizeScore, Reserve.</p>
            </section>

            <!-- VoltK8sScheduler: Logique -->
            <section>
                <h2>VoltK8sScheduler: Logique</h2>
                <div class="scheduler-obj active">ü§ñ</div>
                <p>Notre scheduler s√©lectionne le meilleur n≈ìud via ces phases.</p>
                <p class="fragment">Objectif : placer pods sur n≈ìuds avec assez d'√©nergie disponible.</p>
            </section>
            <section>
                <h2>Phase 1: PreFilter (Algo 2)</h2>
                <p>Pr√©pare infos. Calcule <code>podPower</code> (user ou historique via <code>f_pod</code>).</p>
                <p class="fragment">Collecte <code>Pmax</code> (limite capping) et <code>Pac</code> (conso actuelle n≈ìud via <code>f_ac</code>).</p>
                <pre><code class="language-plaintext" style="font-size: 0.6em;" class="fragment">
                Output: powerLimits [nodeName -> (Pmax, Pac, podPower)]
                </code></pre>
            </section>
            <section>
                <h2>Phase 2: Filter (Algo 3)</h2>
                <p>√âlimine n≈ìuds non viables.</p>
                <p class="fragment">Un n≈ìud est viable si :</p>
                <p class="fragment"><code>availablePower (Pmax - Pac - allocatedPower) >= podPower</code></p>
                <div class="icon-row fragment">
                   <i class="fas fa-filter"></i> <i class="fas fa-check-circle green"></i> <i class="fas fa-times-circle red"></i>
                </div>
            </section>
            <section>
                <h2>Phase 3: Score (Algo 4)</h2>
                <p>Attribue un score aux n≈ìuds filtr√©s.</p>
                <p class="fragment">Score bas√© sur surplus d'√©nergie apr√®s placement pod :</p>
                <p class="fragment"><code>Score = Pmax - Pac - podPower - allocatedPower</code></p>
                 <div class="icon-row fragment">
                   <i class="fas fa-star"></i> <i class="fas fa-sort-numeric-up"></i>
                </div>
            </section>
            <section>
                <h2>Phases 4 & 5</h2>
                <p><strong>NormalizeScore</strong>: Normalise scores (0-MaxNodeScore) pour √©quit√© avec autres plugins.</p>
                <p class="fragment"><strong>Reserve</strong>: R√©serve temporairement <code>podPower</code> sur n≈ìud choisi. Compense d√©lai collecte m√©triques.</p>
                 <div class="icon-row fragment">
                   <i class="fas fa-balance-scale"></i> <i class="fas fa-lock"></i>
                </div>
            </section>

            <!-- === EXEMPLE ILLUSTRATIF (r√©utilisation des ~11 slides existantes) === -->
            <!-- Ins√©rer les 11 slides de la d√©mo ici, de "VoltK8sScheduler: D√©mo" √† "Pod2: Reserve & √âtat Final" -->
            <!-- SLIDE 1: Introduction / √âtat Initial -->
            <section data-transition="zoom">
                <h2>VoltK8sScheduler: D√©mo</h2>
                <div class="k8s-container initial-setup">
                    <div class="scheduler-obj">ü§ñ<br>Scheduler</div>
                    <div class="node-obj node-a">NodeA<br>Pmax: 100W<br>Pac: 30W<br><span class="available-power">Dispo: 70W</span><div class="power-bar-bg"><div class="power-bar" style="width: 100%;"></div></div></div>
                    <div class="node-obj node-b">NodeB<br>Pmax: 120W<br>Pac: 40W<br><span class="available-power">Dispo: 80W</span><div class="power-bar-bg"><div class="power-bar" style="width: 100%;"></div></div></div>
                    <div class="pod-queue"><p>File d'attente :</p><div class="pod-obj pod1-queue">Pod1 (20W)</div><div class="pod-obj pod2-queue">Pod2 (15W u, 30W h)</div></div>
                </div>
                <p><small><code>nodePowerAllocations</code>: {"A":0, "B":0}. MaxNodeScore: 100.</small></p>
            </section>
            <!-- SLIDE 2: Pod1 - PreFilter -->
            <section data-transition="slide-in right">
                <h2>Pod1: PreFilter</h2>
                <div class="k8s-container pod1-prefilter">
                    <div class="scheduler-obj active">ü§ñ<br>Analyse Pod1</div> <div class="pod-obj pod1-active">Pod1<br>20W</div>
                    <div class="node-obj node-a">NodeA<br><span class="available-power">70W</span></div><div class="node-obj node-b">NodeB<br><span class="available-power">80W</span></div>
                </div>
                <p>Pod1: puissance user 20W. Pas d'historique. <code>podPower</code> = 20W.</p>
            </section>
            <!-- SLIDE 3: Pod1 - Filter -->
            <section data-transition="slide-in right">
                <h2>Pod1: Filter</h2>
                <div class="k8s-container pod1-filter">
                    <div class="scheduler-obj">ü§ñ</div> <div class="pod-obj pod1-checking">Pod1 (20W)</div>
                    <div class="node-obj node-a viable">NodeA (70W dispo) ‚úîÔ∏è</div><div class="node-obj node-b viable">NodeB (80W dispo) ‚úîÔ∏è</div>
                </div>
                <p>NodeA (70W) et NodeB (80W) sont viables pour Pod1 (20W).</p>
            </section>
            <!-- SLIDE 4: Pod1 - Score -->
            <section data-transition="slide-in right">
                <h2>Pod1: Score</h2>
                <div class="k8s-container pod1-score">
                    <div class="scheduler-obj">ü§ñ<br>Score!</div> <div class="pod-obj pod1-waiting">Pod1 (20W)</div>
                    <div class="node-obj node-a"><div class="score">Score: 50</div>NodeA</div> <div class="node-obj node-b"><div class="score">Score: 60</div>NodeB</div>
                </div>
                <p>Score A: 100-30-20-0 = 50. Score B: 120-40-20-0 = 60.</p>
            </section>
            <!-- SLIDE 5: Pod1 - NormalizeScore & Assignation -->
            <section data-transition="slide-in right">
                <h2>Pod1: NormalizeScore & Assignation</h2>
                <div class="k8s-container pod1-assign">
                    <div class="scheduler-obj">ü§ñ<br>D√©cision!</div> <div class="pod-obj pod1-assigned-b">Pod1 (20W) ‚Üí</div>
                    <div class="node-obj node-a"><div class="norm-score">Norm: ~83</div>NodeA</div> <div class="node-obj node-b chosen"><div class="norm-score">Norm: 100</div>NodeB ‚ú®</div>
                </div>
                <p>NodeB (100) > NodeA (~83). Pod1 assign√© √† NodeB.</p>
            </section>
            <!-- SLIDE 6: Pod1 - Reserve -->
            <section data-transition="slide-in right">
                <h2>Pod1: Reserve</h2>
                <div class="k8s-container pod1-reserve">
                    <div class="scheduler-obj">ü§ñ</div>
                    <div class="node-obj node-a">NodeA<br><span class="available-power">Dispo: 70W</span><div class="power-bar-bg"><div class="power-bar" style="width: 100%;"></div></div></div>
                    <div class="node-obj node-b node-b-updated">NodeB<br><span class="available-power">Dispo: 60W</span><div class="power-bar-bg"><div class="power-bar" style="width: calc((120 - 40 - 20) / (120 - 40) * 100%);"></div></div><div class="pod-obj pod1-on-nodeb">Pod1 (20W)</div></div>
                    <div class="pod-queue"><p>File:</p><div class="pod-obj pod2-queue">Pod2 (15W u, 30W h)</div></div>
                </div>
                <p>NodeB r√©serve 20W. <code>alloc</code>: {"A":0, "B":20}.</p>
            </section>
            <!-- SLIDE 7: Pod2 - PreFilter -->
            <section data-transition="slide-in right">
                <h2>Pod2: PreFilter</h2>
                <div class="k8s-container pod2-prefilter">
                    <div class="scheduler-obj active">ü§ñ<br>Analyse Pod2</div> <div class="pod-obj pod2-active">Pod2<br>15W(u)<br>30W(h)</div>
                    <div class="node-obj node-a">NodeA<br><span class="available-power">70W</span></div><div class="node-obj node-b">NodeB<br><span class="available-power">60W</span></div>
                </div>
                <p>Pod2: user 15W, hist. max 30W. <code>podPower</code> = 30W.</p>
            </section>
            <!-- SLIDE 8: Pod2 - Filter -->
            <section data-transition="slide-in right">
                <h2>Pod2: Filter</h2>
                <div class="k8s-container pod2-filter">
                    <div class="scheduler-obj">ü§ñ</div> <div class="pod-obj pod2-checking">Pod2 (30W)</div>
                    <div class="node-obj node-a viable">NodeA (70W dispo) ‚úîÔ∏è</div><div class="node-obj node-b viable">NodeB (60W dispo) ‚úîÔ∏è</div>
                </div>
                <p>NodeA (70W) et NodeB (60W) sont viables pour Pod2 (30W).</p>
            </section>
            <!-- SLIDE 9: Pod2 - Score -->
            <section data-transition="slide-in right">
                <h2>Pod2: Score</h2>
                <div class="k8s-container pod2-score">
                    <div class="scheduler-obj">ü§ñ<br>Score!</div> <div class="pod-obj pod2-waiting">Pod2 (30W)</div>
                    <div class="node-obj node-a"><div class="score">Score: 40</div>NodeA</div> <div class="node-obj node-b"><div class="score">Score: 30</div>NodeB</div>
                </div>
                <p>Score A: 100-30-30-0 = 40. Score B: 120-40-30-20 = 30.</p>
            </section>
            <!-- SLIDE 10: Pod2 - NormalizeScore & Assignation -->
            <section data-transition="slide-in right">
                <h2>Pod2: NormalizeScore & Assignation</h2>
                <div class="k8s-container pod2-assign">
                    <div class="scheduler-obj">ü§ñ<br>D√©cision!</div> <div class="pod-obj pod2-assigned-a">‚Üí Pod2 (30W)</div>
                    <div class="node-obj node-a chosen"><div class="norm-score">Norm: 100</div>NodeA ‚ú®</div> <div class="node-obj node-b"><div class="norm-score">Norm: 75</div>NodeB</div>
                </div>
                <p>NodeA (100) > NodeB (75). Pod2 assign√© √† NodeA.</p>
            </section>
            <!-- SLIDE 11: Pod2 - Reserve & √âtat Final -->
            <section data-transition="slide-in right">
                <h2>Pod2: Reserve & √âtat Final</h2>
                <div class="k8s-container final-state">
                    <div class="scheduler-obj">ü§ñ</div>
                    <div class="node-obj node-a node-a-updated">NodeA<br><span class="available-power">Dispo: 40W</span><div class="power-bar-bg"><div class="power-bar" style="width: calc((100 - 30 - 30) / (100 - 30) * 100%);"></div></div><div class="pod-obj pod2-on-nodea">Pod2 (30W)</div></div>
                    <div class="node-obj node-b node-b-final">NodeB<br><span class="available-power">Dispo: 60W</span><div class="power-bar-bg"><div class="power-bar" style="width: calc((120 - 40 - 20) / (120 - 40) * 100%);"></div></div><div class="pod-obj pod1-on-nodeb">Pod1 (20W)</div></div>
                </div>
                <p>NodeA r√©serve 30W. <code>alloc</code>: {"A":30, "B":20}.</p>
            </section>
            <!-- Fin des slides de d√©mo -->

            <section>
                <h2>D√©tails d'Impl√©mentation</h2>
                <p><strong>Monitoring:</strong> Prometheus + Kepler (<code>kepler_node_platform_joules_total</code>, <code>kepler_container_joules_total</code>).</p>
                <p class="fragment"><strong>Powercap Tool:</strong> En Go. Utilise API K8s pour m√†j descriptions n≈ìuds (labels <code>rapl/max_power_uw</code>, <code>rapl/pmax</code>).</p>
                <p class="fragment"><strong>Scheduler:</strong> Plugins PreFilter, Filter, etc. impl√©ment√©s avec le framework K8s.</p>
                 <div class="icon-row fragment">
                   <i class="fab fa-gofore"></i> <i class="fas fa-tags"></i> <i class="fas fa-cogs"></i>
                </div>
            </section>

            <!-- === ANALYSE EXP√âRIMENTALE (Section 4) (10-12 slides) === -->
            <section>
                <h2>Analyse Exp√©rimentale: Configuration</h2>
                <p>Tests sur Grid5000 (Tableau 1: Taurus, Econome, Fleckenstein, Paradoxe - versions RAPL v1/v2).</p>
                <p class="fragment">Cluster local: 3 mini-PCs (Intel Core i7-10710U, 12 c≈ìurs, Pmax 15W, RAPL v2).</p>
                <div class="icon-row fragment">
                   <i class="fas fa-server"></i> <i class="fas fa-desktop"></i> <i class="fas fa-flask"></i>
                </div>
            </section>
            <section>
                <h2>R√©sultats Power Capping (Grid5000)</h2>
                <p>Comportement du capping selon version RAPL.</p>
                <div style="display: flex; justify-content: space-around;">
                    <img data-src="images/figure6_7.png" alt="Figures 6 & 7: RAPL v1" class="figure-small fragment" title="Taurus & Econome (RAPL v1)">
                    <img data-src="images/figure8_9.png" alt="Figures 8 & 9: RAPL v2" class="figure-small fragment" title="Fleckenstein & Paradoxe (RAPL v2)">
                </div>
                <p class="fragment">RAPL v1: Chute rapide conso. (60-70% powercap). v2: Baisse lin√©aire.</p>
            </section>

            <section>
                <h2>Distribution Pods: N≈ìuds Identiques</h2>
                <p>Sc√©nario 1: 2 n≈ìuds workers identiques (Pmax, Pac).</p>
                <p class="fragment">Application web (Redis+PHP). HPA ajoute 2 r√©plicas/fois.</p>
                <img data-src="images/figure10.png" alt="Figure 10: N≈ìuds identiques" class="figure-medium fragment">
                <p class="fragment">VoltK8sScheduler √©quilibre bien la charge.</p>
            </section>
            <section>
                <h2>Distribution Pods: N≈ìuds Diff√©renci√©s</h2>
                <p>Sc√©nario 2: Node1 Pmax = 90% de Node2 Pmax.</p>
                <p class="fragment">Objectif: observer adaptation du scheduler.</p>
            </section>
            <section>
                <h3>Cas 1: Web App (peu gourmande)</h3>
                <img data-src="images/figure11.png" alt="Figure 11: Web App, N≈ìuds diff√©renci√©s" class="figure-medium fragment">
                <p class="fragment">Plus de pods sur Node2 pour compenser Pmax plus faible de Node1. (e.g. 14 pods)</p>
            </section>
            <section>
                <h3>Cas 2: Stress-ng (gourmand)</h3>
                <img data-src="images/figure12.png" alt="Figure 12: Stress-ng, N≈ìuds diff√©renci√©s" class="figure-medium fragment">
                <p class="fragment">Moins de pods sur Node2 (e.g. 2) suffisent pour √©quilibrer, car chaque pod consomme plus.</p>
            </section>
             <section>
                <h2>Synth√®se Exp√©rimentale</h2>
                <p>Power capping efficace pour respecter limites de conso.</p>
                <p class="fragment">VoltK8sScheduler favorise n≈ìuds avec plus d'√©nergie r√©siduelle.</p>
                <p class="fragment">D√©cisions coh√©rentes avec les algorithmes sous-jacents.</p>
                <div class="icon-row fragment">
                   <i class="fas fa-check-double green"></i> <i class="fas fa-thumbs-up"></i>
                </div>
            </section>

            <!-- === CONCLUSION & TRAVAUX FUTURS (Section 5) (3-4 slides) === -->
            <section>
                <h2>Conclusion</h2>
                <p>Pr√©sent√© VoltK8sScheduler: ordonnanceur K8s tenant compte √©nergie.</p>
                <p class="fragment">Agent de power capping (RAPL) + scheduler interagissant avec Prometheus/Kepler.</p>
                <p class="fragment">Combinaison permet de respecter budget √©nergie et d√©ployer apps efficacement.</p>
            </section>
            <section>
                <h2>Limitations</h2>
                <ul class="spaced-list">
                    <li class="fragment"><i class="fab fa-intel"></i> S'applique aux plateformes Intel avec RAPL.</li>
                    <li class="fragment"><i class="fas fa-cloud"></i> Non d√©ployable sur VMs (majorit√© clusters K8s prod).</li>
                    <li class="fragment"><i class="fas fa-chart-area"></i> Impact du power capping sur perfs applicatives √† √©valuer plus finement.</li>
                </ul>
            </section>
            <section>
                <h2>Travaux Futurs</h2>
                <ul class="spaced-list">
                    <li class="fragment"><i class="fas fa-microchip"></i> √âtendre √† AMD et autres architectures.</li>
                    <li class="fragment"><i class="fas fa-server"></i> Int√©gration avec VMs.</li>
                    <li class="fragment"><i class="fas fa-cogs"></i> Explorer autres m√©canismes de power capping.</li>
                    <li class="fragment"><i class="fas fa-recycle"></i> Prise en compte de l'origine (verte/mix) de l'√©nergie.</li>
                </ul>
            </section>

            <!-- SLIDE: Questions -->
            <section data-transition="zoom-in fade-out">
                <h2>Questions ?</h2>
                <p>Merci pour votre attention !</p>
                <div class="icon-row" style="margin-top: 50px;">
                    <i class="fas fa-question-circle fa-3x"></i>
                    <i class="fas fa-hands-helping fa-3x"></i>
                </div>
                 <p class="fragment"><small>Code: github.com/menraromial/{powercap, scheduler-plugins}</small></p>
            </section>

        </div>
    </div>
    <!-- Lightbox ICI, en dehors de .reveal -->
    <div id="lightbox" class="lightbox-hidden" onclick="closeLightbox()">
        <img id="lightbox-image" src="" alt="Image zoom√©e">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/notes/notes.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/markdown/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/math/math.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            width: 1024, // Largeur standard pour papiers
            height: 768,
            margin: 0.04,
            plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
        });

        // Dans la fonction openLightbox, avant de la rendre visible
function openLightbox(event) {
    if (event.target.tagName === 'IMG' && event.target.closest('.slides')) {
        // Forcer les dimensions de la lightbox par rapport √† la fen√™tre
        lightbox.style.width = window.innerWidth + 'px';
        lightbox.style.height = window.innerHeight + 'px';
        lightbox.style.top = window.scrollY + 'px'; // Si la page est scrollable en dehors de reveal
        lightbox.style.left = window.scrollX + 'px';

        lightboxImage.src = event.target.src;
        lightbox.classList.remove('lightbox-hidden');
        lightbox.classList.add('lightbox-visible');
    }
}
    </script>
</body>
</html>